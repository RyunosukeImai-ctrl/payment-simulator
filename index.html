<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>お支払いシミュレーション</title>
        <meta name='robots' content='max-image-preview:large'/>
        <meta name="description" content="お支払いシミュレーション"/>
        <!-- 必要最低限のテーマ・プラグインCSSを残す（シミュレーターのスタイルに影響するため）-->
        <link rel='stylesheet' id='wp-block-library-css' href='https://www.kyoto-shinpan.co.jp/wp/wp-includes/css/dist/block-library/style.min.css?ver=6.0.9'/>
        <link rel='stylesheet' id='vk-blocks-build-css' href='https://www.kyoto-shinpan.co.jp/wp/wp-content/plugins/vk-blocks/build/vk-blocks-build.min.css?ver=1.60.0.1'/>
        <link rel='stylesheet' id='lightning-common-style' href='https://www.kyoto-shinpan.co.jp/wp/wp-content/themes/lightning/_g3/assets/css/common.min.css?ver=15.29.6'/>
        <link rel='stylesheet' id='lightning-design-style' href='https://www.kyoto-shinpan.co.jp/wp/wp-content/themes/lightning/_g3/assets/css/design.min.css?ver=15.29.6'/>

        <!-- 個別カスタマイズCSS -->
        <style type="text/css">
            /* デザイン変更：赤色を青色に変更 */
            :root {
                --wp--preset--color--vk-color-primary: #007bff;
                --vk-color-primary: var(--wp--preset--color--vk-color-primary);
                --wp--preset--color--vk-color-primary-dark: #0056b3;
                --vk-color-primary-dark: var(--wp--preset--color--vk-color-primary-dark);
                --wp--preset--color--vk-color-primary-vivid: #0090ff;
                --vk-color-primary-vivid: var(--wp--preset--color--vk-color-primary-vivid);

                --swiper-theme-color: #007bff;
            }

            .has-vk-color-primary-color { color: var(--wp--preset--color--vk-color-primary) !important; }
            .has-vk-color-primary-background-color { background-color: var(--wp--preset--color--vk-color-primary) !important; }
            .has-vk-color-primary-border-color { border-color: var(--wp--preset--color--vk-color-primary) !important; }
            .has-vk-color-primary-dark-color { color: var(--wp--preset--color--vk-color-primary-dark) !important; }
            .has-vk-color-primary-dark-background-color { background-color: var(--wp--preset--color--vk-color-primary-dark) !important; }
            .has-vk-color-primary-dark-border-color { border-color: var(--wp--preset--color--vk-color-primary-dark) !important; }
            .has-vk-color-primary-vivid-color { color: var(--wp--preset--color--vk-color-primary-vivid) !important; }
            .has-vk-color-primary-vivid-background-color { background-color: var(--wp--preset--color--vk-color-primary-vivid) !important; }
            .has-vk-color-primary-vivid-border-color { border-color: var(--wp--preset--color--vk-color-primary-vivid) !important; }

            h2:where(:not(.wp-block-post-title)) {
                border-top: 2px solid var(--vk-color-primary);
            }
            .page-header {
                background-color: var(--vk-color-primary);
            }
            .site-footer {
                border-top: 1px solid var(--vk-color-primary);
            }
            .footer-nav-list li {
                border-right: 1px solid #007bff;
            }
             .vk_post_imgOuter_singleTermLabel, .postList_terms a {
                background-color: #007bff!important;
            }
             .mini-content-container-1 .btn, .mini-content-container-2 .btn, .mini-content-container-3 .btn {
                background-color: #007bff!important;
                border-color: #007bff!important;
            }
            .language-markup {
                color: #007bff!important;
            }


            /* シミュレーターの結果表示エリアのスタイルを追加 */
            .calculation-result {
                margin-top: 20px;
                padding: 15px;
                border: 1px solid var(--vk-color-border);
                border-radius: var(--vk-size-radius);
                background-color: #f8f9fa;
            }

            .calculation-result legend {
                font-weight: bold;
                margin-bottom: 10px;
                padding: 0 5px;
                border-bottom: none;
            }

             .calculation-result p {
                margin-bottom: 10px;
                font-size: 1rem;
                line-height: 1.5;
            }
            .calculation-result p:last-child {
                margin-bottom: 0;
            }

            .calculation-result input[type="text"] {
                width: auto;
                display: inline-block;
                margin-right: 5px;
                background-color: #e9ecef;
                border: 1px solid #ced4da;
                cursor: default;
                padding: .4em .8em; /* 調整 */
            }

            /* シミュレーターフォームのスタイル調整 */
            .calc-form label {
                display: inline-block;
                margin-bottom: 5px;
                font-weight: bold;
                width: 150px; /* ラベル幅を固定して揃える */
                margin-right: 10px;
                vertical-align: middle;
            }
            .calc-form input[type="number"],
            .calc-form select {
                 width: 150px; /* input幅を調整 */
                 display: inline-block;
                 margin-bottom: 10px;
                 vertical-align: middle;
            }
            .calc-form input[type="button"] {
                 margin-top: 10px;
                 margin-right: 10px;
            }
            .calc-form fieldset {
                 margin-bottom: 20px;
            }
             .calc-form ul {
                 margin-top: 10px;
                 font-size: 0.9rem;
                 color: #555;
             }
             .calc-form ul li {
                 margin-bottom: 5px;
             }

        </style>

        <!-- jQueryのみ残す -->
        <script type='text/javascript' src='https://www.kyoto-shinpan.co.jp/wp/wp-includes/js/jquery/jquery.min.js?ver=3.6.0'></script>

        <script type='text/javascript'>
            // frequency2per関数は元のコードから変更なし
            function frequency2per(frequency) {
                var p = new Array(1.67,2.51,3.35,4.2,5.06,5.91,6.78,7.64,8.52,9.39,10.28,11.16,12.05,12.95,13.85,14.75,15.66,16.57,17.49,18.41,19.34,20.27,21.21,22.15,23.1,24.04,25,25.96,26.92,27.89,28.86,29.84,30.82,31.8,32.79,33.79,34.79,35.79,36.8,37.81,38.83,39.85,40.87,41.9,42.94,43.98,45.02,46.07,47.12,48.17,49.23,50.3,51.37,52.44,53.52,54.6,55.68,56.77,57.87,58.96);
                if (frequency < 1 || frequency > p.length) {
                     console.warn(`Invalid frequency: ${frequency}. Returning 0.`);
                     return 0;
                }
                return p[frequency - 1];
            }

            // frequencycheck関数は元のコードから変更なし
            function frequencycheck(frequency) {
                var p = new Array(3,6,10,12,15,18,20,24,30,36,42,48,54,60);
                return p.includes(frequency);
            }

            // calcFDate関数は元のコードから変更なし
            function calcFDate(interviewDay) {
                const today = new Date();
                const currentMonth = today.getMonth() + 1; // 1-12

                if (interviewDay <= 14) {
                    return currentMonth;
                } else {
                    let nextMonth = currentMonth + 1;
                    if (nextMonth > 12) {
                         nextMonth = nextMonth - 12;
                    }
                    return nextMonth;
                }
            }

            // displayFirstPaymentDate関数は元のコードから変更なし
            function displayFirstPaymentDate(formId) {
                const form = document.getElementById(formId);
                const interviewDateInput = form.querySelector('input[name="interviewDate"]');
                const firstPaymentDateElement = form.querySelector('.first-payment-date');

                if (!interviewDateInput || !firstPaymentDateElement) {
                    return;
                }

                const interviewDateValue = interviewDateInput.value;
                if (!interviewDateValue) {
                    firstPaymentDateElement.innerHTML = "<strong>初回支払日:</strong> 記入面談日を選択してください。";
                    return;
                }

                const dateParts = interviewDateValue.split('-');
                const year = parseInt(dateParts[0], 10);
                const month = parseInt(dateParts[1], 10);
                const day = parseInt(dateParts[2], 10);

                 let firstPaymentMonthCalc = month; // 1-12
                 let firstPaymentYearCalc = year;

                 if (day >= 15) {
                     firstPaymentMonthCalc += 1;
                     if (firstPaymentMonthCalc > 12) {
                         firstPaymentMonthCalc = 1;
                         firstPaymentYearCalc += 1;
                     }
                 }

                const firstPaymentDay = 27;
                firstPaymentDateElement.innerHTML = `<strong>初回支払日:</strong> ${firstPaymentYearCalc}年${firstPaymentMonthCalc}月${firstPaymentDay}日`;
            }

            // calcBCount関数は元のコードから変更なし
            function calcBCount(frequency, bmonth1, bmonth2, interviewDay) {
                let count = 0;
                const firstPaymentMonth = calcFDate(interviewDay);

                for (let i = 0; i < frequency; i++) {
                    let currentMonth = firstPaymentMonth + i;
                    while (currentMonth > 12) {
                        currentMonth -= 12;
                    }

                    if (currentMonth === bmonth1 || currentMonth === bmonth2) {
                        count++;
                    }
                }
                return count;
            }


            function calcEMP() {
                const form = document.getElementById('KS_calcEMP');
                const resultDiv = document.getElementById('result-emp');
                resultDiv.innerHTML = '';

                const price = parseInt(form.price.value);
                // 修正: プルダウンから値を取得
                const frequency = parseInt(form.frequency.value);
                const dpay = parseInt(form.dpay.value);
                const bmonth1 = parseInt(form.bmonth1.value);
                const bmonth2 = parseInt(form.bmonth2.value);
                const baddpay = parseInt(form.baddpay.value);
                const interviewDateInput = form.querySelector('input[name="interviewDate"]');
                const interviewDateValue = interviewDateInput ? interviewDateInput.value : '';

                // バリデーション
                if (isNaN(price) || isNaN(frequency) || isNaN(dpay) || isNaN(bmonth1) || isNaN(bmonth2) || isNaN(baddpay) || !interviewDateValue) {
                    resultDiv.innerHTML = '<p style="color: red;">全ての項目に数値を入力し、記入面談日を選択してください。</p>';
                    return;
                }

                if (price < 50000 || price > 5000000 || frequency < 3 || frequency > 60 || dpay < 0 || baddpay < 0) {
                     resultDiv.innerHTML = '<p style="color: red;">入力された数値が条件を満たしていません。<br>商品金額: 5万円以上500万円以下, 支払回数: 3～60回, 頭金・ボーナス加算額: 0円以上</p>';
                     return;
                 }

                if (dpay > price) {
                     resultDiv.innerHTML = '<p style="color: red;">頭金は商品金額以下である必要があります。</p>';
                     return;
                 }

                 const interviewDay = parseInt(interviewDateValue.split('-')[2], 10);

                const advance = price - dpay;

                // 元コードの payment 計算ロジックを採用 (frequency2perの引数はfrequency-1のまま)
                const payment = advance + Math.floor(advance * (frequency2per(frequency - 1) * 100) / 10000);

                // 手数料は payment - advance で計算
                const fee = payment - advance;

                const total = payment + dpay;

                const bcount = calcBCount(frequency, bmonth1, bmonth2, interviewDay);

                let first, rest;

                // 通常回支払額の計算
                // 元コードの rest = Math.floor((payment - bcount * baddpay) / frequency / 100) * 100; を採用
                let totalMonthlyPay = payment - bcount * baddpay;
                if (totalMonthlyPay < 0) totalMonthlyPay = 0; // 念のためマイナスにならないように

                rest = Math.floor(totalMonthlyPay / frequency / 100) * 100;

                // 初回支払額の計算 (元コードのロジックに合わせる)
                 const firstPaymentMonth = calcFDate(interviewDay);
                 const isFirstMonthBonus = (firstPaymentMonth === bmonth1 || firstPaymentMonth === bmonth2);

                first = payment - rest * (frequency - 1) - bcount * baddpay;
                 if (isFirstMonthBonus) {
                      first = first + baddpay;
                 }

                 // --- 結果表示 ---
                 let resultsHtml = '<h3>計算結果</h3>';
                 resultsHtml += `<p class="first-payment-date"></p>`; // 初回支払日表示用

                 resultsHtml += `<p><strong>手数料額:</strong> ${fee.toLocaleString()} 円</p>`; // 手数料表示を追加

                 resultsHtml += `<p><strong>第1回目お支払い額:</strong> ${first.toLocaleString()} 円`;
                 if (isFirstMonthBonus && baddpay > 0) {
                     resultsHtml += ` (ボーナス月)`;
                 }
                 resultsHtml += `</p>`;

                 let normalCount = frequency - bcount; // 通常回数 = 総回数 - ボーナス回数
                 // 元コードの表示に合わせる
                 let displayNormalCount = frequency - 1;


                 resultsHtml += `<p><strong>通常回(${Math.max(0, displayNormalCount)}回)のお支払い額:</strong> ${rest.toLocaleString()} 円</p>`;


                 if (bcount > 0 && baddpay > 0) {
                    // ボーナス加算額が0より大きい場合のみ表示
                     let bonusDisplayCount = bcount;
                     // 初回がボーナス加算支払いを含む場合、ボーナス回数から1を引いて表示（初回を除く回数）
                     if (isFirstMonthBonus) {
                          bonusDisplayCount = bcount - 1;
                     }
                     if (bonusDisplayCount > 0) {
                         resultsHtml += `<p><strong>ボーナス回(${bonusDisplayCount}回)のお支払い額:</strong> ${(baddpay + rest).toLocaleString()} 円</p>`;
                         if (isFirstMonthBonus) {
                             resultsHtml += `<p class="note">※ 第1回目がボーナス月の場合、第1回目支払額を参照してください。</p>`;
                         }
                     } else if (bcount === 1 && isFirstMonthBonus) {
                        // ボーナス回数が1回だけでそれが初回だった場合
                         resultsHtml += `<p class="note">※ ボーナス回(1回)は第1回目お支払い額に含まれます。</p>`;
                     }
                 }


                 resultsHtml += `<p><strong>お支払い総額(頭金を含む):</strong> ${total.toLocaleString()} 円</p>`;

                 let paymentValue = payment;
                 if (payment > 1589600) {
                     paymentValue = payment.toLocaleString() + "(当社ご契約条件外)";
                 } else {
                     paymentValue = payment.toLocaleString();
                 }
                 resultsHtml += `<p><strong>分割支払金合計(当社へのお支払い):</strong> ${paymentValue} 円</p>`;


                 resultDiv.innerHTML = resultsHtml;

                 displayFirstPaymentDate('KS_calcEMP');

                if (frequencycheck(frequency) === false) {
                    const checkMsg = document.createElement('p');
                    checkMsg.style.color = 'orange';
                    checkMsg.innerText = `※ 注意: 支払回数「${frequency}回」は当社で選択出来る支払回数と異なりますので、計算結果は参考数値としてご利用下さい。`;
                    resultDiv.appendChild(checkMsg);
                }

                 // 通常回お支払い額が3千円以上かのチェック (計算ロジックではないが条件として考慮)
                 if (rest < 3000 && (bmonth1 === 0 && bmonth2 === 0 || baddpay === 0)) { // ボーナス加算がない場合のみチェック
                     const checkMsg = document.createElement('p');
                     checkMsg.style.color = 'orange';
                     checkMsg.innerText = `※ 注意: 計算結果の通常回のお支払い額(${rest.toLocaleString()}円)は、当社の契約条件である3千円を下回っています。`;
                     resultDiv.appendChild(checkMsg);
                 }
            }


            function calcMPF() {
                const form = document.getElementById('KS_calcMPF');
                const resultDiv = document.getElementById('result-mpf');
                resultDiv.innerHTML = '';

                const KSfrequency = new Array(3,6,10,12,15,18,20,24,30,36,42,48,54,60);

                const price = parseInt(form.price.value);
                const expect = parseInt(form.expect.value);
                const dpay = parseInt(form.dpay.value);
                const bmonth1 = parseInt(form.bmonth1.value);
                const bmonth2 = parseInt(form.bmonth2.value);
                const baddpay = parseInt(form.baddpay.value);
                const interviewDateInput = form.querySelector('input[name="interviewDate"]');
                const interviewDateValue = interviewDateInput ? interviewDateInput.value : '';

                 if (isNaN(price) || isNaN(expect) || isNaN(dpay) || isNaN(bmonth1) || isNaN(bmonth2) || isNaN(baddpay) || !interviewDateValue) {
                    resultDiv.innerHTML = '<p style="color: red;">全ての項目に数値を入力し、記入面談日を選択してください。</p>';
                    return;
                }
                 if (price < 50000 || price > 5000000 || expect <= 0 || dpay < 0 || baddpay < 0) {
                      resultDiv.innerHTML = '<p style="color: red;">入力された数値が条件を満たしていません。<br>商品金額: 5万円以上500万円以下, 月々のご希望支払額: 1円以上, 頭金・ボーナス加算額: 0円以上</p>';
                     return;
                 }
                  if (dpay > price) {
                     resultDiv.innerHTML = '<p style="color: red;">頭金は商品金額以下である必要があります。</p>';
                     return;
                 }


                const advance = price - dpay;
                const interviewDay = parseInt(interviewDateValue.split('-')[2], 10);

                let KSfreq = -1; // 最適な回数
                let minDiff = Infinity; // 希望額との差の絶対値の最小値

                for (let i = 0; i < KSfrequency.length; i++) {
                    let currentFrequency = KSfrequency[i];
                     // 元コードの payment 計算ロジックを採用 (frequency2perの引数はcurrentFrequency-1のまま)
                    let tmp_payment = advance + Math.floor(advance * (frequency2per(currentFrequency - 1) * 100) / 10000);

                    let tmp_bcount = calcBCount(currentFrequency, bmonth1, bmonth2, interviewDay);

                    let tmp_rest = 0;
                    let tmp_totalMonthlyPay = tmp_payment - tmp_bcount * baddpay;
                    if (tmp_totalMonthlyPay < 0) tmp_totalMonthlyPay = 0;

                    tmp_rest = Math.floor(tmp_totalMonthlyPay / currentFrequency / 100) * 100;


                    // 希望額との差の絶対値で比較
                    const diff = Math.abs(tmp_rest - expect);

                    // より差が小さい場合を優先
                    if (diff < minDiff) {
                        minDiff = diff;
                        KSfreq = currentFrequency;
                    }
                     // 同じ差の場合、回数が少ない方を優先するなどのロジックは元コードに無いため、差が小さい方を単純に優先する。
                     // 差が全く同じ場合は、先にリストに出てくる回数（少ない回数）が優先される
                }

                 if (KSfreq === -1) {
                      resultDiv.innerHTML = '<p style="color: red;">計算可能な支払回数が見つかりませんでした。</p>';
                     return;
                 }


                // 最適な回数 (KSfreq) で再度計算
                frequency = KSfreq;
                 // 元コードの payment 計算ロジックを採用 (frequency2perの引数はfrequency-1のまま)
                payment = advance + Math.floor(advance * (frequency2per(frequency - 1) * 100) / 10000);

                // 手数料は payment - advance で計算
                const fee = payment - advance;

                total = payment + dpay;

                bcount = calcBCount(frequency, bmonth1, bmonth2, interviewDay);

                // 通常回支払額の計算
                 let totalMonthlyPay = payment - bcount * baddpay;
                 if (totalMonthlyPay < 0) totalMonthlyPay = 0;

                 rest = Math.floor(totalMonthlyPay / frequency / 100) * 100;

                 // 初回支払額の計算 (元コードのロジックに合わせる)
                 const firstPaymentMonth = calcFDate(interviewDay);
                 const isFirstMonthBonus = (firstPaymentMonth === bmonth1 || firstPaymentMonth === bmonth2);

                 first = payment - rest * (frequency - 1) - bcount * baddpay;
                 if (isFirstMonthBonus) {
                     first = first + baddpay;
                 }


                // --- 計算結果の表示 ---
                let resultsHtml = '<h3>計算結果</h3>';
                 resultsHtml += `<p>当社で選択出来る支払回数のうち、ご希望のお支払い額に近くなるのは<strong>${KSfreq}回</strong>になります。</p>`;
                 resultsHtml += `<p class="first-payment-date"></p>`;

                 resultsHtml += `<p><strong>手数料額:</strong> ${fee.toLocaleString()} 円</p>`; // 手数料表示を追加


                 resultsHtml += `<p><strong>第1回目お支払い額:</strong> ${first.toLocaleString()} 円`;
                 if (isFirstMonthBonus && baddpay > 0) {
                     resultsHtml += ` (ボーナス月)`;
                 }
                 resultsHtml += `</p>`;

                  let normalCount = frequency - bcount;
                  let displayNormalCount = frequency - 1; // 元コードの表示に合わせる

                 resultsHtml += `<p><strong>通常回(${Math.max(0, displayNormalCount)}回)のお支払い額:</strong> ${rest.toLocaleString()} 円</p>`;

                 if (bcount > 0 && baddpay > 0) {
                     let bonusDisplayCount = bcount;
                      if (isFirstMonthBonus) {
                          bonusDisplayCount = bcount - 1;
                     }
                     if (bonusDisplayCount > 0) {
                         resultsHtml += `<p><strong>ボーナス回(${bonusDisplayCount}回)のお支払い額:</strong> ${(baddpay + rest).toLocaleString()} 円</p>`;
                          if (isFirstMonthBonus) {
                             resultsHtml += `<p class="note">※ 第1回目がボーナス月の場合、第1回目支払額を参照してください。</p>`;
                         }
                     } else if (bcount === 1 && isFirstMonthBonus) {
                         resultsHtml += `<p class="note">※ ボーナス回(1回)は第1回目お支払い額に含まれます。</p>`;
                     }
                 }


                 resultsHtml += `<p><strong>お支払い総額(頭金を含む):</strong> ${total.toLocaleString()} 円</p>`;

                 let paymentValue = payment;
                 if (payment > 1589600) {
                     paymentValue = payment.toLocaleString() + "(当社ご契約条件外)";
                 } else {
                     paymentValue = payment.toLocaleString();
                 }
                 resultsHtml += `<p><strong>分割支払金合計(当社へのお支払い):</strong> ${paymentValue} 円</p>`;

                 resultDiv.innerHTML = resultsHtml;

                 displayFirstPaymentDate('KS_calcMPF');

                 // 通常回お支払い額が3千円以上かのチェック (計算ロジックではないが条件として考慮)
                 if (rest < 3000 && (bmonth1 === 0 && bmonth2 === 0 || baddpay === 0)) { // ボーナス加算がない場合のみチェック
                     const checkMsg = document.createElement('p');
                     checkMsg.style.color = 'orange';
                     checkMsg.innerText = `※ 注意: 計算結果の通常回のお支払い額(${rest.toLocaleString()}円)は、当社の契約条件である3千円を下回っています。`;
                     resultDiv.appendChild(checkMsg);
                 }
            }

            function resetEMP() {
                const resultDiv = document.getElementById('result-emp');
                if (resultDiv) {
                    resultDiv.innerHTML = '';
                }
            }

            function resetMPF() {
                const resultDiv = document.getElementById('result-mpf');
                if (resultDiv) {
                    resultDiv.innerHTML = '';
                }
            }

             window.onload = function() {
                 const today = new Date().toISOString().split('T')[0];
                 const interviewDateInputs = document.querySelectorAll('input[type="date"]');
                 interviewDateInputs.forEach(input => {
                     if (!input.value) {
                        input.value = today;
                     }
                 });

                // 支払回数プルダウンの生成
                 const frequencySelect = document.getElementById('frequency-select');
                 const frequencies = [3, 6, 10, 12, 15, 18, 20, 24, 30, 36, 42, 48, 54, 60];
                 let optionsHtml = '';
                 frequencies.forEach(freq => {
                     optionsHtml += `<option value="${freq}">${freq}回</option>`;
                 });
                 frequencySelect.innerHTML = optionsHtml;
                 frequencySelect.value = 12; // デフォルト値として12回を選択
             };

        </script>

        <style type="text/css" id="custom-background-css">
            body.custom-background {
                background-color: #ffffff;
            }
        </style>
    </head>
    <body>
        <div class="site-body">
            <div class="site-body-container container">
                <div class="main-section" id="main" role="main">
                    <div id="post-2848" class="entry entry-full post-2848 page type-page status-publish hentry">
                        <div class="entry-body">
                            <h1>お支払いシミュレーション</h1>
                            <p>
                                当社のクレジット契約におけるお支払い額やお支払い回数のシミュレーションを行うことが出来ます。以下のシミュレーションは実質年率を20%とした場合の計算になります。<br>当社のご契約条件は下記のようになっております。

                            </p>
                            <dl>
                                <dt>お申込者様ご年齢</dt>
                                <dd>申込時20歳以上完済時76歳未満</dd>
                                <dt>お申込可能商品金額</dt>
                                <!-- 修正: 表示金額を500万円に拡大 -->
                                <dd>5万円以上500万円以下(消費税込)</dd>
                                <dt>お支払い回数</dt>
                                <dd>
                                    <!-- 修正: 回数リストのテキスト表示を削除 -->
                                    3, 6, 10, 12, 15, 18, 20, 24, 30, 36, 42, 48, 54, 60回<br>※ ただし、通常回のお支払い額が3千円以上になる場合のみ。
                                </dd>
                                <dt>分割手数料率</dt>
                                <dd>原則 実質年率20%(商品により異なる場合がございます)</dd>
                                <dt>収納代行会社</dt>
                                <dd>SMBCファイナンスサービス株式会社</dd>
                            </dl>
                            <h2>商品金額とお支払回数から月々のお支払い額を計算する</h2>
                            <form id="KS_calcEMP" action="#" name="KS_calcEMP" class="calc-form">
                                <fieldset>
                                    <legend>入力項目</legend>
                                    <label for="price">商品金額</label>
                                    <!-- 修正: maxを500万円に設定 -->
                                    <input id="price" type="number" name="price" value="500000" min="50000" max="5000000">
                                    <label for="price">円</label>
                                    <br>
                                    <label for="dpay">頭金</label>
                                    <input id="dpay" type="number" name="dpay" value="0" min="0">
                                    <label for="dpay">円</label>
                                    <br>
                                    <label for="bmonth1">ボーナス月1</label>
                                    <select id="bmonth1" name="bmonth1">
                                        <option selected="selected" value="0">利用しない</option>
                                        <option value="6">6月</option>
                                        <option value="7">7月</option>
                                        <option value="8">8月</option>
                                    </select>
                                    <br>
                                    <label for="bmonth2">ボーナス月2</label>
                                    <select id="bmonth2" name="bmonth2">
                                        <option selected="selected" value="0">利用しない</option>
                                        <option value="12">12月</option>
                                        <option value="1">1月</option>
                                    </select>
                                    <br>
                                    <label for="baddpay">ボーナス月加算額</label>
                                    <input id="baddpay" type="number" name="baddpay" value="0" min="0">
                                    <label for="baddpay">円</label>
                                    <br>
                                     <label for="interviewDateEMP">記入面談日</label>
                                     <input id="interviewDateEMP" type="date" name="interviewDate" value="">
                                     <br>
                                    <label for="frequency-select">お支払回数</label>
                                    <!-- 修正: 入力フィールドをプルダウンに変更 -->
                                    <select id="frequency-select" name="frequency"></select>
                                    <label for="frequency-select">回</label>
                                    <br>
                                    <input onclick="calcEMP()" type="button" value="計算" class="button-primary">
                                    <input onclick="resetEMP()" type="button" value="計算結果削除" class="button-primary">
                                    <ul>
                                        <li>※ 当社で選択出来るお支払い回数以外の回数をご希望の場合は、お問合せください。</li>
                                         <li>※ ボーナス払いの場合、ご入力頂いた記入面談日を基準に計算しております。</li>
                                        <li>※ 全ての項目に入力が必要です。頭金・ボーナス払いを利用しないときは0円とご入力下さい。</li>
                                    </ul>
                                </fieldset>
                                <div id="result-emp" class="calculation-result">
                                </div>
                            </form>
                            <h2>商品金額と月々のご希望お支払い額からお支払い回数を計算する</h2>
                            <form id="KS_calcMPF" action="#" name="KS_calcMPF" class="calc-form">
                                <fieldset>
                                    <legend>入力項目</legend>
                                    <label for="price">商品金額</label>
                                     <!-- 修正: maxを500万円に設定 -->
                                    <input id="price" type="number" name="price" value="500000" min="50000" max="5000000">
                                    <label for="price">円</label>
                                    <br>
                                    <label for="dpay">頭金</label>
                                    <input id="dpay" type="number" name="dpay" value="0" min="0">
                                    <label for="dpay">円</label>
                                    <br>
                                    <label for="expect">ご希望される月々のお支払い額(通常回)</label>
                                    <input id="expect" type="number" name="expect" value="15000" min="3000">
                                    <label for="expect">円/月</label>
                                    <br>
                                    <label for="bmonth1">ボーナス月1</label>
                                    <select id="bmonth1" name="bmonth1">
                                        <option selected="selected" value="0">利用しない</option>
                                        <option value="6">6月</option>
                                        <option value="7">7月</option>
                                        <option value="8">8月</option>
                                    </select>
                                    <br>
                                    <label for="bmonth2">ボーナス月2</label>
                                    <select id="bmonth2" name="bmonth2">
                                        <option selected="selected" value="0">利用しない</option>
                                        <option value="12">12月</option>
                                        <option value="1">1月</option>
                                    </select>
                                    <br>
                                    <label for="baddpay">ボーナス月加算額</label>
                                    <input id="baddpay" type="number" name="baddpay" value="0" min="0">
                                    <label for="baddpay">円</label>
                                    <br>
                                     <label for="interviewDateMPF">記入面談日</label>
                                     <input id="interviewDateMPF" type="date" name="interviewDate" value="">
                                     <br>
                                    <input onclick="calcMPF()" type="button" value="計算" class="button-primary">
                                    <input onclick="resetMPF()" type="button" value="計算結果削除" class="button-primary">
                                    <ul>
                                         <li>※ ボーナス払いの場合、ご入力頂いた記入面談日を基準に計算しております。</li>
                                        <li>※ 全ての項目に入力が必要です。頭金・ボーナス払いを利用しないときは0円とご入力下さい。</li>
                                    </ul>
                                </fieldset>
                                <div id="result-mpf" class="calculation-result">
                                </div>
                            </form>
                        </div>
                    </div>
                    <!-- [ /#post-2848 ] -->
                </div>
                <!-- [ /.main-section ] -->
            </div>
            <!-- [ /.site-body-container ] -->
        </div>
        <!-- [ /.site-body ] -->
        <!-- フッターやナビゲーション関連は削除 -->
    </body>
</html>
